[gd_scene load_steps=21 format=3 uid="uid://3txoxcmhlqf4"]

[ext_resource type="Script" uid="uid://ds8mpidl03flq" path="res://scripts/managers/game_manager.gd" id="1_4w45t"]
[ext_resource type="Script" uid="uid://dfyjdsog1fy7v" path="res://scripts/ui/ui_item_manager.gd" id="1_pu3yx"]
[ext_resource type="PackedScene" uid="uid://hhwydbml1pxj" path="res://scenes/templates/item_template.tscn" id="1_si52b"]
[ext_resource type="Texture2D" uid="uid://4121s6jxng6r" path="res://assets/textures/ui/inventory/inventory_grid.png" id="1_w2twt"]
[ext_resource type="Script" uid="uid://c1wrfovotnets" path="res://scripts/ui/ui_manager.gd" id="2_e1cbu"]
[ext_resource type="Script" uid="uid://d0q6asix6qkpp" path="res://scripts/ui/ui_inventory.gd" id="2_gubc5"]
[ext_resource type="Material" uid="uid://fs2qwxy2iiwe" path="res://assets/materials/outline/outline_shader_material.tres" id="2_rt2n2"]
[ext_resource type="Script" uid="uid://1wnn8i14qql1" path="res://scripts/ui/ui_level_display.gd" id="7_c16ls"]
[ext_resource type="Script" uid="uid://4v4lxtijmd7q" path="res://scripts/managers/event_manager.gd" id="7_k6f3i"]
[ext_resource type="Texture2D" uid="uid://cyhrrm78wnk3i" path="res://assets/textures/ui/icons/unknown_event.png" id="8_6wevv"]
[ext_resource type="Texture2D" uid="uid://cxr3y6hsmbuka" path="res://assets/textures/ui/icons/connection.png" id="9_e1cbu"]
[ext_resource type="Texture2D" uid="uid://djyggohcy4eh0" path="res://assets/textures/ui/icons/linear_connection.png" id="10_4w45t"]
[ext_resource type="Script" uid="uid://bifu6x5yjysjs" path="res://scripts/ui/ui_debug_item_spawner.gd" id="10_7nt27"]
[ext_resource type="Script" uid="uid://cnd3pfhmh386n" path="res://scripts/ui/ui_item_selector.gd" id="10_bcnxi"]
[ext_resource type="Texture2D" uid="uid://ctm71hnsrhqk5" path="res://assets/textures/ui/icons/pvp_fight.png" id="10_mngbo"]
[ext_resource type="Texture2D" uid="uid://cyx3o12vj6th" path="res://assets/textures/ui/inventory/storage_grid.png" id="12_mngbo"]
[ext_resource type="Script" uid="uid://sgws6qjtv6mk" path="res://scripts/managers/game_file_verifier.gd" id="13_4w45t"]
[ext_resource type="Texture2D" uid="uid://dtxk2qqwssgoa" path="res://assets/textures/ui/buttons/trash.png" id="14_r6p65"]
[ext_resource type="Texture2D" uid="uid://ie31fg4d67vg" path="res://assets/textures/ui/buttons/trash_hover.png" id="16_01n6w"]
[ext_resource type="Script" uid="uid://5ltf7122eb7k" path="res://scripts/ui/ui_trash.gd" id="17_6u1mn"]

[node name="main_scene" type="Node2D"]

[node name="GameFileVerifier" type="Node" parent="."]
script = ExtResource("13_4w45t")
metadata/_custom_type_script = "uid://sgws6qjtv6mk"

[node name="GameManager" type="Node" parent="." node_paths=PackedStringArray("game_file_verifier")]
script = ExtResource("1_4w45t")
game_file_verifier = NodePath("../GameFileVerifier")
metadata/_custom_type_script = "uid://ds8mpidl03flq"

[node name="UIManager" type="Node" parent="." node_paths=PackedStringArray("event_container", "event_connection_1", "event_icon_1", "event_connection_2", "event_icon_2", "event_connection_3", "event_icon_3")]
script = ExtResource("2_e1cbu")
event_container = NodePath("../Control Proceed/HBoxContainer")
event_connection_1 = NodePath("../Control Proceed/HBoxContainer/TextureRect Event connection 1")
event_icon_1 = NodePath("../Control Proceed/HBoxContainer/TextureRect Event Icon 1")
event_connection_2 = NodePath("../Control Proceed/HBoxContainer/TextureRect Event connection 2")
event_icon_2 = NodePath("../Control Proceed/HBoxContainer/TextureRect Event Icon 2")
event_connection_3 = NodePath("../Control Proceed/HBoxContainer/TextureRect Event connection 3")
event_icon_3 = NodePath("../Control Proceed/HBoxContainer/TextureRect Event Icon 3")
metadata/_custom_type_script = "uid://c1wrfovotnets"

[node name="UIItemManager" type="Node2D" parent="." node_paths=PackedStringArray("drag_hide_group", "drag_reveal_group")]
script = ExtResource("1_pu3yx")
outline_material = ExtResource("2_rt2n2")
drag_hide_group = [NodePath("../Control Proceed")]
drag_reveal_group = [NodePath("../TextureButton Trash")]
item_template = ExtResource("1_si52b")

[node name="EventManager" type="Node2D" parent="." node_paths=PackedStringArray("event_container", "event_button_1", "event_button_2", "event_button_3", "proceed_button")]
script = ExtResource("7_k6f3i")
event_container = NodePath("../VBoxContainer Event selection")
event_button_1 = NodePath("../VBoxContainer Event selection/Button Event 1")
event_button_2 = NodePath("../VBoxContainer Event selection/Button Event 2")
event_button_3 = NodePath("../VBoxContainer Event selection/Button Event 3")
proceed_button = NodePath("../Control Proceed/Button Proceed")
metadata/_custom_type_script = "uid://4v4lxtijmd7q"

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(528, 464)
zoom = Vector2(2.571, 2.571)

[node name="PanelContainer Inventory" type="Control" parent="."]
z_as_relative = false
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 352.0
offset_top = 368.0
offset_right = 544.0
offset_bottom = 448.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 0
size_flags_vertical = 0
script = ExtResource("2_gubc5")
metadata/_edit_use_anchors_ = true

[node name="TextureRect GridTexture" type="TextureRect" parent="PanelContainer Inventory"]
z_index = 2
z_as_relative = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource("1_w2twt")
stretch_mode = 1
metadata/_edit_use_anchors_ = true

[node name="PanelContainer Enemy Inventory" type="Control" parent="."]
z_as_relative = false
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 496.0
offset_top = 256.0
offset_right = 688.0
offset_bottom = 336.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 0
size_flags_vertical = 0
script = ExtResource("2_gubc5")
metadata/_edit_use_anchors_ = true

[node name="TextureRect GridTexture" type="TextureRect" parent="PanelContainer Enemy Inventory"]
z_index = 2
z_as_relative = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource("1_w2twt")
stretch_mode = 1
metadata/_edit_use_anchors_ = true

[node name="PanelContainer Storage" type="Control" parent="."]
z_as_relative = false
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 352.0
offset_top = 464.0
offset_right = 544.0
offset_bottom = 544.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 0
size_flags_vertical = 0
script = ExtResource("2_gubc5")
metadata/_edit_use_anchors_ = true

[node name="TextureRect GridTexture" type="TextureRect" parent="PanelContainer Storage"]
z_index = 2
z_as_relative = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource("12_mngbo")
stretch_mode = 1
metadata/_edit_use_anchors_ = true

[node name="VBoxContainer Event selection" type="VBoxContainer" parent="."]
visible = false
offset_left = 576.0
offset_top = 368.0
offset_right = 688.0
offset_bottom = 464.0
alignment = 1

[node name="Button Event 1" type="Button" parent="VBoxContainer Event selection"]
layout_mode = 2
toggle_mode = true
text = "Event 1"

[node name="Button Event 2" type="Button" parent="VBoxContainer Event selection"]
layout_mode = 2
toggle_mode = true
text = "Event 2"

[node name="Button Event 3" type="Button" parent="VBoxContainer Event selection"]
layout_mode = 2
focus_neighbor_bottom = NodePath("../../Control Proceed/Button Proceed")
toggle_mode = true
text = "Event 3"

[node name="LineEdit" type="LineEdit" parent="." node_paths=PackedStringArray("game_file_verifier", "option_list")]
z_index = 5
offset_left = 352.0
offset_top = 557.0
offset_right = 464.0
offset_bottom = 579.0
script = ExtResource("10_bcnxi")
game_file_verifier = NodePath("../GameFileVerifier")
option_list = NodePath("VBoxContainer")

[node name="VBoxContainer" type="VBoxContainer" parent="LineEdit"]
layout_mode = 0
offset_top = -160.0
offset_right = 112.0
mouse_filter = 2
theme_override_constants/separation = 0
alignment = 2

[node name="Control Item spawn position" type="Control" parent="LineEdit"]
layout_mode = 1
anchor_left = 1.5710001
anchor_top = 0.5
anchor_right = 1.5710001
anchor_bottom = 0.5
offset_left = 16.047989
offset_top = -24.0
offset_right = 16.047989
offset_bottom = -24.0

[node name="Button Spawn" type="Button" parent="." node_paths=PackedStringArray("item_name_lineedit", "item_origin")]
offset_left = 480.0
offset_top = 560.0
offset_right = 528.0
offset_bottom = 576.0
text = "Spawn"
script = ExtResource("10_7nt27")
item_name_lineedit = NodePath("../LineEdit")
item_origin = NodePath("../LineEdit/Control Item spawn position")

[node name="Control Proceed" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = 560.0
offset_top = 464.0
offset_right = 704.0
offset_bottom = 544.0
mouse_filter = 2

[node name="Button Proceed" type="Button" parent="Control Proceed"]
layout_mode = 0
offset_left = 16.0
offset_top = 16.0
offset_right = 128.0
offset_bottom = 32.0
focus_neighbor_top = NodePath("../../VBoxContainer Event selection/Button Event 3")
text = "Proceed"

[node name="HBoxContainer" type="HBoxContainer" parent="Control Proceed"]
layout_mode = 0
offset_left = 10.0
offset_top = 48.0
offset_right = 126.0
offset_bottom = 64.0

[node name="TextureRect Event connection 1" type="TextureRect" parent="Control Proceed/HBoxContainer"]
layout_mode = 2
texture = ExtResource("9_e1cbu")

[node name="TextureRect Event Icon 1" type="TextureRect" parent="Control Proceed/HBoxContainer"]
layout_mode = 2
texture = ExtResource("8_6wevv")

[node name="TextureRect Event connection 2" type="TextureRect" parent="Control Proceed/HBoxContainer"]
layout_mode = 2
texture = ExtResource("9_e1cbu")

[node name="TextureRect Event Icon 2" type="TextureRect" parent="Control Proceed/HBoxContainer"]
layout_mode = 2
texture = ExtResource("8_6wevv")

[node name="TextureRect Event connection 3" type="TextureRect" parent="Control Proceed/HBoxContainer"]
layout_mode = 2
texture = ExtResource("10_4w45t")

[node name="TextureRect Event Icon 3" type="TextureRect" parent="Control Proceed/HBoxContainer"]
layout_mode = 2
texture = ExtResource("10_mngbo")

[node name="Label Level" type="Label" parent="Control Proceed/HBoxContainer/TextureRect Event Icon 3"]
layout_mode = 0
offset_left = 20.0
offset_right = 26.0
offset_bottom = 14.0
text = "0"
horizontal_alignment = 1
script = ExtResource("7_c16ls")

[node name="TextureButton Trash" type="TextureButton" parent="."]
visible = false
offset_left = 608.0
offset_top = 480.0
offset_right = 656.0
offset_bottom = 528.0
texture_normal = ExtResource("14_r6p65")
texture_hover = ExtResource("16_01n6w")
script = ExtResource("17_6u1mn")
container_size = Vector2i(0, 0)

[node name="TextureRect" type="TextureRect" parent="."]
offset_right = 40.0
offset_bottom = 40.0

[connection signal="event_changed_singal" from="GameManager" to="UIManager" method="_event_changed_callback"]
[connection signal="event_changed_singal" from="GameManager" to="EventManager" method="_event_changed_callback"]
[connection signal="level_increased_signal" from="GameManager" to="PanelContainer Inventory" method="_on_game_manager_level_increased_signal"]
[connection signal="level_increased_signal" from="GameManager" to="PanelContainer Storage" method="_on_game_manager_level_increased_signal"]
[connection signal="level_increased_signal" from="GameManager" to="Control Proceed/HBoxContainer/TextureRect Event Icon 3/Label Level" method="_level_increased_callback"]
[connection signal="pressed" from="Control Proceed/Button Proceed" to="GameManager" method="advance_event"]
